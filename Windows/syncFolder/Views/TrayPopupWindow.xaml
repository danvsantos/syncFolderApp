<Window x:Class="syncFolder.Views.TrayPopupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        SizeToContent="Height"
        Width="320"
        Deactivated="Window_Deactivated">

    <Border Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"
            BorderBrush="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}"
            BorderThickness="1"
            CornerRadius="8">
        <Border.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="3" Opacity="0.3" />
        </Border.Effect>

        <StackPanel>
            <!-- Header -->
            <DockPanel Margin="16,12">
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                    <TextBlock Text="&#x1F504;" FontSize="18" VerticalAlignment="Center" Margin="0,0,8,0" />
                    <TextBlock Text="syncFolder" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center" />
                </StackPanel>
                <StackPanel x:Name="StatusBadge" Orientation="Horizontal" HorizontalAlignment="Right"
                            VerticalAlignment="Center" />
            </DockPanel>

            <Separator Margin="0" />

            <!-- Pairs list or empty state -->
            <StackPanel x:Name="EmptyState" Visibility="Collapsed" Margin="0,20">
                <TextBlock Text="&#x1F4C2;" FontSize="32" HorizontalAlignment="Center" Opacity="0.4" />
                <TextBlock x:Name="EmptyText" TextAlignment="Center" Foreground="Gray"
                           FontSize="12" Margin="0,8,0,0" />
                <Button x:Name="EmptyPrefsButton" Content="Open Preferences"
                        HorizontalAlignment="Center" Margin="0,10,0,0"
                        Padding="12,6" Click="OpenPreferences_Click" />
            </StackPanel>

            <ScrollViewer x:Name="PairsScroller" MaxHeight="240"
                          VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="PairsList" />
            </ScrollViewer>

            <Separator Margin="0" />

            <!-- Actions -->
            <StackPanel Margin="4">
                <Button x:Name="SyncAllButton" Style="{StaticResource HoverButtonStyle}"
                        Click="SyncAll_Click" Padding="16,6">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#x1F504;" Margin="0,0,8,0" VerticalAlignment="Center" />
                        <TextBlock x:Name="SyncAllText" VerticalAlignment="Center" />
                    </StackPanel>
                </Button>

                <Button x:Name="PrefsButton" Style="{StaticResource HoverButtonStyle}"
                        Click="OpenPreferences_Click" Padding="16,6">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#x2699;" Margin="0,0,8,0" VerticalAlignment="Center" />
                        <TextBlock x:Name="PrefsText" VerticalAlignment="Center" />
                    </StackPanel>
                </Button>
            </StackPanel>

            <Separator Margin="0" />

            <!-- Quit -->
            <Button x:Name="QuitButton" Style="{StaticResource HoverButtonStyle}"
                    Click="Quit_Click" Padding="16,8" Margin="4">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="&#x23FB;" Margin="0,0,8,0" VerticalAlignment="Center" />
                    <TextBlock x:Name="QuitText" VerticalAlignment="Center" />
                </StackPanel>
            </Button>
        </StackPanel>
    </Border>
</Window>
