<Window x:Class="syncFolder.Views.EditPairDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="520" Height="600"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False">

    <DockPanel>
        <!-- Header -->
        <TextBlock x:Name="TitleText" DockPanel.Dock="Top"
                   FontSize="16" FontWeight="SemiBold"
                   HorizontalAlignment="Center" Margin="0,16,0,12" />

        <!-- Buttons at bottom -->
        <DockPanel DockPanel.Dock="Bottom" Margin="20,0,20,16">
            <Button x:Name="CancelButton" Content="Cancel" Padding="16,6"
                    Click="Cancel_Click" DockPanel.Dock="Left" IsCancel="True" />
            <Button x:Name="SaveButton" Padding="16,6"
                    Click="Save_Click" DockPanel.Dock="Right" HorizontalAlignment="Right"
                    IsDefault="True" />
            <TextBlock />
        </DockPanel>

        <!-- Validation warning -->
        <StackPanel x:Name="ValidationWarning" DockPanel.Dock="Bottom"
                    Orientation="Horizontal" Margin="20,0,20,8" Visibility="Collapsed">
            <TextBlock Text="&#x26A0;" Foreground="Red" Margin="0,0,6,0" />
            <TextBlock x:Name="ValidationText" Foreground="Red" FontSize="12" />
        </StackPanel>

        <!-- Form content -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20,0">
            <StackPanel Margin="0,4,0,0">
                <!-- Name -->
                <TextBlock x:Name="NameLabel" FontWeight="Medium" Margin="0,8,0,4" />
                <TextBox x:Name="NameTextBox" Padding="6,4" />

                <!-- Source -->
                <TextBlock x:Name="SourceLabel" FontWeight="Medium" Margin="0,12,0,4" />
                <DockPanel>
                    <Button x:Name="BrowseSourceButton" Content="Browse..."
                            DockPanel.Dock="Right" Margin="6,0,0,0" Padding="8,4"
                            Click="BrowseSource_Click" />
                    <TextBox x:Name="SourceTextBox" Padding="6,4" />
                </DockPanel>

                <!-- Destination -->
                <TextBlock x:Name="DestLabel" FontWeight="Medium" Margin="0,12,0,4" />
                <DockPanel>
                    <Button x:Name="BrowseDestButton" Content="Browse..."
                            DockPanel.Dock="Right" Margin="6,0,0,0" Padding="8,4"
                            Click="BrowseDest_Click" />
                    <TextBox x:Name="DestTextBox" Padding="6,4" />
                </DockPanel>

                <!-- Interval -->
                <TextBlock x:Name="IntervalLabel" FontWeight="Medium" Margin="0,12,0,4" />
                <ComboBox x:Name="IntervalComboBox" Padding="6,4" />

                <!-- Sync Mode -->
                <TextBlock x:Name="SyncModeLabel" FontWeight="Medium" Margin="0,12,0,4" />
                <ComboBox x:Name="SyncModeComboBox" Padding="6,4"
                          SelectionChanged="SyncMode_Changed" />
                <TextBlock x:Name="ConflictHint" FontSize="11" Foreground="Gray"
                           Margin="0,4,0,0" Visibility="Collapsed" TextWrapping="Wrap" />

                <!-- Options -->
                <CheckBox x:Name="DeleteOrphansCheckbox" Margin="0,12,0,0" />
                <CheckBox x:Name="EnabledCheckbox" Margin="0,8,0,0" />

                <!-- Exclude Filters -->
                <TextBlock x:Name="FiltersLabel" FontWeight="SemiBold" Margin="0,16,0,8" />

                <ListView x:Name="FiltersListView" MaxHeight="120" BorderThickness="1"
                          BorderBrush="LightGray" Margin="0,0,0,8">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <DockPanel>
                                <Button Content="&#x2716;" DockPanel.Dock="Right"
                                        Background="Transparent" BorderThickness="0"
                                        Foreground="Red" Cursor="Hand" FontSize="12"
                                        Click="RemoveFilter_Click" Tag="{Binding}" />
                                <TextBlock Text="{Binding}" FontFamily="Consolas"
                                           VerticalAlignment="Center" />
                            </DockPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>

                <DockPanel Margin="0,0,0,8">
                    <Button x:Name="AddFilterButton" Content="Add" DockPanel.Dock="Right"
                            Margin="6,0,0,0" Padding="8,4" Click="AddFilter_Click" />
                    <TextBox x:Name="FilterTextBox" FontFamily="Consolas" Padding="6,4"
                             KeyDown="FilterTextBox_KeyDown" />
                </DockPanel>

                <!-- Presets -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock x:Name="PresetsLabel" FontSize="11" Foreground="Gray"
                               VerticalAlignment="Center" Margin="0,0,8,0" />
                    <WrapPanel x:Name="PresetsPanel" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
