<Window x:Class="syncFolder.Views.PreferencesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="syncFolder Preferences"
        Width="700" Height="520"
        MinWidth="680" MinHeight="480"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip"
        ShowInTaskbar="True">

    <TabControl x:Name="MainTabControl" Margin="8">
        <!-- Sync Pairs Tab -->
        <TabItem x:Name="SyncPairsTab">
            <TabItem.Header>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="&#x1F4C1;" Margin="0,0,6,0" />
                    <TextBlock x:Name="SyncPairsTabHeader" Text="Sync Pairs" />
                </StackPanel>
            </TabItem.Header>

            <DockPanel>
                <!-- Toolbar at bottom -->
                <DockPanel DockPanel.Dock="Bottom" Margin="8">
                    <Button x:Name="AddPairButton" Content="+" Width="30" Padding="4"
                            ToolTip="Add sync pair" Click="AddPair_Click" DockPanel.Dock="Left" />
                    <Button x:Name="SyncAllPairsButton" Click="SyncAllPairs_Click"
                            DockPanel.Dock="Right" HorizontalAlignment="Right" Padding="8,4">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x1F504;" Margin="0,0,6,0" />
                            <TextBlock x:Name="SyncAllPairsText" Text="Sync All" />
                        </StackPanel>
                    </Button>
                    <TextBlock />
                </DockPanel>

                <!-- Empty state or list -->
                <StackPanel x:Name="PairsEmptyState" VerticalAlignment="Center"
                            HorizontalAlignment="Center" Visibility="Collapsed">
                    <TextBlock Text="&#x1F4C2;" FontSize="48" HorizontalAlignment="Center" Opacity="0.3" />
                    <TextBlock x:Name="NoPairsTitle" Text="No Sync Pairs" FontSize="18"
                               FontWeight="Medium" Foreground="Gray" HorizontalAlignment="Center" Margin="0,12,0,0" />
                    <TextBlock x:Name="NoPairsDescription" TextAlignment="Center"
                               Foreground="DarkGray" Margin="0,4,0,0" />
                    <Button x:Name="AddFirstPairButton" Padding="16,6" Margin="0,12,0,0"
                            HorizontalAlignment="Center" Click="AddPair_Click" />
                </StackPanel>

                <ListView x:Name="PairsListView" SelectionMode="Single"
                          BorderThickness="0" AlternationCount="2"
                          MouseDoubleClick="PairsList_DoubleClick">
                    <ListView.ContextMenu>
                        <ContextMenu>
                            <MenuItem x:Name="CtxSyncNow" Click="CtxSyncNow_Click" />
                            <Separator />
                            <MenuItem x:Name="CtxEdit" Click="CtxEdit_Click" />
                            <Separator />
                            <MenuItem x:Name="CtxDelete" Click="CtxDelete_Click" />
                        </ContextMenu>
                    </ListView.ContextMenu>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Padding="4,6" x:Name="RowBorder">
                                <DockPanel>
                                    <!-- Sync button on right -->
                                    <Button Content="&#x1F504;" ToolTip="Sync now"
                                            DockPanel.Dock="Right" VerticalAlignment="Center"
                                            Padding="6,4" Click="SyncPairButton_Click"
                                            Tag="{Binding Id}" BorderThickness="0" Background="Transparent" />

                                    <!-- Status icon on left -->
                                    <Border x:Name="StatusCircle" Width="28" Height="28"
                                            CornerRadius="14" DockPanel.Dock="Left"
                                            Margin="0,0,10,0" VerticalAlignment="Center">
                                        <TextBlock x:Name="StatusIcon" FontSize="13"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center"
                                                   FontWeight="SemiBold" />
                                    </Border>

                                    <!-- Info -->
                                    <StackPanel VerticalAlignment="Center">
                                        <!-- Name row -->
                                        <DockPanel>
                                            <TextBlock Text="{Binding Name}" FontWeight="SemiBold"
                                                       FontSize="13" DockPanel.Dock="Left" />
                                            <Border x:Name="DisabledBadge" Visibility="Collapsed"
                                                    Background="#20808080" CornerRadius="8"
                                                    Padding="6,1" Margin="8,0,0,0"
                                                    DockPanel.Dock="Left" VerticalAlignment="Center">
                                                <TextBlock Text="DISABLED" FontSize="9"
                                                           FontWeight="Bold" Foreground="Gray" />
                                            </Border>
                                            <TextBlock x:Name="LastSyncText" DockPanel.Dock="Right"
                                                       HorizontalAlignment="Right"
                                                       FontSize="11" Foreground="Gray" />
                                            <TextBlock />
                                        </DockPanel>

                                        <!-- Paths row -->
                                        <StackPanel Orientation="Horizontal" Margin="0,3,0,0">
                                            <TextBlock Text="&#x1F4C1;" FontSize="10" Foreground="#3B82F6"
                                                       VerticalAlignment="Center" />
                                            <TextBlock x:Name="SourceText" FontSize="11" Foreground="Gray"
                                                       Margin="3,0,0,0" MaxWidth="200"
                                                       TextTrimming="CharacterEllipsis" />
                                            <TextBlock x:Name="ArrowText" FontSize="10" Foreground="LightGray"
                                                       Margin="6,0" VerticalAlignment="Center" />
                                            <TextBlock Text="&#x1F4C1;" FontSize="10" Foreground="#14B8A6"
                                                       VerticalAlignment="Center" />
                                            <TextBlock x:Name="DestText" FontSize="11" Foreground="Gray"
                                                       Margin="3,0,0,0" MaxWidth="200"
                                                       TextTrimming="CharacterEllipsis" />
                                        </StackPanel>

                                        <!-- Status line -->
                                        <StackPanel Orientation="Horizontal" Margin="0,3,0,0">
                                            <TextBlock x:Name="IntervalText" FontSize="10" Foreground="DarkGray" />
                                            <TextBlock x:Name="OrphansText" FontSize="10" Foreground="DarkGray"
                                                       Margin="12,0,0,0" Visibility="Collapsed" />
                                            <TextBlock x:Name="SyncStatusText" FontSize="10"
                                                       Margin="12,0,0,0" />
                                        </StackPanel>
                                    </StackPanel>
                                </DockPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </DockPanel>
        </TabItem>

        <!-- Activity Tab -->
        <TabItem x:Name="ActivityTab">
            <TabItem.Header>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="&#x1F553;" Margin="0,0,6,0" />
                    <TextBlock x:Name="ActivityTabHeader" Text="Activity" />
                </StackPanel>
            </TabItem.Header>

            <DockPanel>
                <!-- Bottom bar -->
                <DockPanel DockPanel.Dock="Bottom" Margin="8">
                    <TextBlock x:Name="LogCountText" FontSize="11" Foreground="Gray"
                               VerticalAlignment="Center" DockPanel.Dock="Left" />
                    <Button x:Name="ClearLogButton" Click="ClearLog_Click"
                            DockPanel.Dock="Right" HorizontalAlignment="Right" Padding="8,4" />
                    <TextBlock />
                </DockPanel>

                <!-- Empty state -->
                <StackPanel x:Name="ActivityEmptyState" VerticalAlignment="Center"
                            HorizontalAlignment="Center" Visibility="Collapsed">
                    <TextBlock Text="&#x1F553;" FontSize="40" HorizontalAlignment="Center" Opacity="0.3" />
                    <TextBlock x:Name="NoActivityTitle" FontSize="16" FontWeight="Medium"
                               Foreground="Gray" HorizontalAlignment="Center" Margin="0,12,0,0" />
                    <TextBlock x:Name="NoActivityDescription" FontSize="12" Foreground="DarkGray"
                               HorizontalAlignment="Center" Margin="0,4,0,0" />
                </StackPanel>

                <!-- Log list -->
                <ListView x:Name="LogListView" BorderThickness="0" AlternationCount="2">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <DockPanel Margin="0,2">
                                <TextBlock x:Name="LogIcon" FontSize="14" VerticalAlignment="Top"
                                           Margin="0,0,10,0" Width="20" />
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock x:Name="LogPairName" FontWeight="Medium" FontSize="12" />
                                        <TextBlock x:Name="LogDate" DockPanel.Dock="Right"
                                                   HorizontalAlignment="Right" FontSize="11" Foreground="Gray" />
                                        <TextBlock />
                                    </DockPanel>
                                    <TextBlock x:Name="LogDetail" FontSize="11" Margin="0,2,0,0"
                                               TextWrapping="Wrap" />
                                </StackPanel>
                            </DockPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </DockPanel>
        </TabItem>

        <!-- General Tab -->
        <TabItem x:Name="GeneralTab">
            <TabItem.Header>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="&#x2699;" Margin="0,0,6,0" />
                    <TextBlock x:Name="GeneralTabHeader" Text="General" />
                </StackPanel>
            </TabItem.Header>

            <StackPanel Margin="20">
                <!-- Launch at Login -->
                <GroupBox Margin="0,0,0,16" Padding="12">
                    <GroupBox.Header>
                        <TextBlock FontWeight="SemiBold" />
                    </GroupBox.Header>
                    <StackPanel>
                        <CheckBox x:Name="LaunchAtLoginCheckbox" FontSize="13"
                                  Checked="LaunchAtLogin_Changed" Unchecked="LaunchAtLogin_Changed" />
                        <TextBlock x:Name="LaunchAtLoginDescription" FontSize="11" Foreground="Gray"
                                   Margin="0,6,0,0" TextWrapping="Wrap" />
                    </StackPanel>
                </GroupBox>

                <!-- Notifications -->
                <GroupBox Padding="12">
                    <GroupBox.Header>
                        <TextBlock FontWeight="SemiBold" />
                    </GroupBox.Header>
                    <StackPanel>
                        <CheckBox x:Name="NotificationsCheckbox" FontSize="13"
                                  Checked="Notifications_Changed" Unchecked="Notifications_Changed" />
                        <TextBlock x:Name="NotificationsDescription" FontSize="11" Foreground="Gray"
                                   Margin="0,6,0,0" TextWrapping="Wrap" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </TabItem>

        <!-- About Tab -->
        <TabItem x:Name="AboutTab">
            <TabItem.Header>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="&#x2139;" Margin="0,0,6,0" />
                    <TextBlock x:Name="AboutTabHeader" Text="About" />
                </StackPanel>
            </TabItem.Header>

            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="&#x1F504;" FontSize="56" HorizontalAlignment="Center" />

                <TextBlock Text="syncFolder" FontSize="24" FontWeight="Bold"
                           HorizontalAlignment="Center" Margin="0,12,0,0" />

                <TextBlock x:Name="VersionText" FontSize="13" Foreground="Gray"
                           HorizontalAlignment="Center" Margin="0,4,0,0" />

                <TextBlock x:Name="AboutDescription" FontSize="13" Foreground="Gray"
                           TextAlignment="Center" MaxWidth="400" Margin="0,12,0,0"
                           TextWrapping="Wrap" />

                <Separator Margin="0,16" Width="300" />

                <TextBlock x:Name="AuthorText" FontSize="12" Foreground="Gray"
                           HorizontalAlignment="Center" />

                <Button x:Name="GitHubButton" Style="{StaticResource LinkButtonStyle}"
                        HorizontalAlignment="Center" Margin="0,8,0,0"
                        Click="GitHub_Click" />

                <TextBlock x:Name="LicenseText" FontSize="11" Foreground="DarkGray"
                           HorizontalAlignment="Center" Margin="0,8,0,0" />
            </StackPanel>
        </TabItem>
    </TabControl>
</Window>
